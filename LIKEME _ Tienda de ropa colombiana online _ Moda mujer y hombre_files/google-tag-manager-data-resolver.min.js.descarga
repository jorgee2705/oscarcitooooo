define(['jquery','mage/translate','Magento_Customer/js/customer-data'],function($,$t,customerData){'use strict';return{prepareItemData:function(product){var sku=product['configurable_sku']||product['product_sku'];return{'item_name':product['product_name'],'item_id':sku,'price':product['product_price_value'],'item_brand':product['product_brand'],'item_category':product['product_tipo_de_prenda'],'item_category2':this.getFrontendPage(),'item_category3':product['product_colleccion']+'-'+product['product_tela'],'item_category4':product['product_tipo_de_prenda']+'-'+product['product_genero'],'item_category5':product['product_tela']+'-'+product['product_silueta'],'item_variant':product['product_talla']+'-'+product['product_color'],'item_list_name':'catalogoProductos','quantity':product['qty']||1,'index':product['position']||1};},getUserId:function(){var customer=customerData.get('customer');return customer().email||'';},getFrontendPage:function(){const pageClasses={'cms_index_index':'home','catalog-product-view':'pdp','catalog-category-view':'plp','checkout-cart-index':'carrito','checkout-index-index':'checkout'}
var page=Object.keys(pageClasses).reduce((accumulator,key)=>{const value=pageClasses[key];if($('body').hasClass(key)){accumulator[key]=value;}
return accumulator;},{});return Object.values(page)[0]||'';}};});