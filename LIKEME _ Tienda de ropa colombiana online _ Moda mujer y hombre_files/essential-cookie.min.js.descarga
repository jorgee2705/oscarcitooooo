define(['underscore'],function(_){'use strict';return{cookies:[],isEssential:function(cookieName){return this.cookies.indexOf(cookieName)!==-1;},update:function(groups){if(!this.cookies.length){_.each(groups,function(group){if(group.isEssential){this.set(group.cookies);}}.bind(this));}},set:function(cookies){cookies.forEach(function(item){this.cookies.push(item.name);}.bind(this));},getEssentialCookiesPattern:function(pattern){let result=null,cookiePatterns=[];this.cookies.forEach((cookie)=>{result=cookie.match(pattern);if(result!==null){cookiePatterns.push(result.groups.cookiePattern);}});return cookiePatterns;},isEssentialByPattern:function(cookieName,pattern){const essentialCookiePatterns=this.getEssentialCookiesPattern(pattern);return essentialCookiePatterns.some((pattern)=>!!cookieName.match(`^${pattern.replaceAll('*', '.*')}$`));},};});