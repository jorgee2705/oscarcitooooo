define(['uiComponent','Magento_Customer/js/customer-data','nostojs'],function(Component,customerData,nostojs){'use strict';let refreshRecs=false;return Component.extend({initialize:function(config){this._super();this.cartTagging=customerData.get('cart-tagging');refreshRecs=Boolean(parseInt(config.refresh))},sendTagging:function(elements,data){if(typeof data!=="undefined"&&data.total_count>0&&data.index>=data.total_count&&typeof nostojs==='function'){nostojs(function(api){const element=document.querySelector("#nosto_cart_tagging");element.classList.remove('nosto_cart_hidden');element.classList.add('nosto_cart');if(refreshRecs===true){api.loadRecommendations();}else{api.resendCartTagging("nosto_cart_tagging");}});}}});});