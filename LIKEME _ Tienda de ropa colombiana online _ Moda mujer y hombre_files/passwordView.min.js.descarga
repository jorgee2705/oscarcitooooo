define(["jquery",'jquery-ui-modules/widget'],function($){$.widget('mage.passwordView',{options:{enable:true},_create:function(){if(!this.options.enable){return;}
this.element.parent().addClass("password-view");this._bind();},_bind:function(){this.element.parent().find('.password-view-trigger').remove();this.element.parent().append('<a href="#" class="password-view-trigger" tabindex="-1"></a>');this.element.parent().find('.password-view-trigger').on('click',this._togglePasswordView.bind(this));this.element.parent().addClass("password-view-initialized");this.element.closest('form').addClass('has-password-view');},_togglePasswordView:function(e){e.preventDefault();if($('#show-password').length&&$('#show-password').is(':visible')){$('#show-password').click();this.element.parent().toggleClass("password-view-active",this.element.attr("type")==="text");}else{let type="password";if(this.element.attr("type")==="password"){type="text";}
this.element.attr("type",type);this.element.parent().toggleClass("password-view-active",type==="text");}}});return $.mage.passwordView;});